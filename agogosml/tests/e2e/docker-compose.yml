version: "3.7"

services:
  tester-gen:
    build: testgen/.
    ports:
     - "127.0.0.1:2000:5000"
    networks:
      mynet:
        aliases:
          - tester
    environment:
      MESSAGING_TYPE: eventhub
      AZURE_STORAGE_ACCOUNT: eistorage
      EVENT_HUB_NAMESPACE: ei-test
      EVENT_HUB_SAS_POLICY: test
      EVENT_HUB_NAME_INPUT: eh-input
      EVENT_HUB_NAME_OUTPUT: eh-output
      LEASE_CONTAINER_NAME_OUTPUT: leases1
      APP_HOST: sample
      APP_PORT: 3000
      OUTPUT_WRITER_PORT: 6000
      OUTPUT_WRITER_HOST: output
      TEST_GEN_PORT: 2000
      TEST_GEN_HOST: 127.0.0.1
      EVENT_HUB_SAS_KEY_INPUT:
      EVENT_HUB_SAS_KEY_OUTPUT:
      AZURE_STORAGE_ACCESS_KEY:
    args:
      CONTAINER_REG:
      TAG:

networks:
  mynet: